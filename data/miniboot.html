<html>
  <head>
    <title>Miniboot - Miniboot Tools</title>
    <meta content="" />
    <meta charset="UTF-8" />
    <link rel="stylesheet" type="text/css" href="css/main.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  </head>

  <body onload="load(true)">
    <progress id="progress" value="23" max="100"> </progress>
    <p id="action">???</p>
    <p id="result">Result: ??</p>

    <a href="index.html">Return to main page</a>
    <div>
      <button type="button" onclick="getLength()">
        Get length from EEPROM
      </button>
      <button type="button" onclick="getCRC('eeprom')">
        Get written CRC32 from EEPROM
      </button>
    </div>
    <div>
      Decimal Size:
      <input type="number" name="quantity" value="0" min="0" id="size" />
      <p>Hex Size: <span id="hex_size">0x0</span></p>
    </div>

    <div>
      Decimal Offset:
      <input type="number" name="quantity" value="0" min="0" id="offset" />
      <p>Hex Offset: <span id="hex_offset">0x0</span></p>
    </div>

    <div>
      <p>.bin files:</p>
      <select name="bin" id="bin" size="5" class="files_listbox">
        <a href="" id="bin_download">Download</a>
        <option>Loading...</option>
      </select>

      <div>
        <button type="button" onclick="delete_file('bin')">Delete</button>
        <a href="" id="bin_download">Download</a>
        <button type="button" onclick="refresh('bin')">Refresh</button>
      </div>
    </div>
    <p>TODO: Allow generation of .eeprom from here</p>
    <div>
      <button type="button" onclick="dump('spiffs')">Dump to SPIFFS</button>
      <button type="button" onclick="dump('serial')">Dump to SERIAL</button>
    </div>
    <div>
      <p>I2C Addresses:</p>
      <select name="i2c" id="i2c" size="5" class="i2c_listbox">
        <option>Loading...</option>
      </select>
    </div>
    <div>
      <button type="button" onclick="refresh('i2c')">Refresh</button>
    </div>
  </body>
  <script src="js/main.js"></script>
</html>
